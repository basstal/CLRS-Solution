# 概率分析和随机算法

## 5.1-1

Q：证明：假设在过程HIRE-ASSISTANT的第4行中，我们总能决定哪一个应聘者最佳，则意味着我们知道应聘者排名的全部次序。

A：利用数学归纳法证明：

对于1个人的序列，这1个人就是最佳应聘者，也知道应聘者排名的全部次序。

假设对于n个人的序列，我们总能决定哪一个应聘者最佳，并且知道应聘者排名的全部次序。

对于n+1人的序列，我们知道之前n个人排名的全部次序。设新增的人为D，根据概率分布，可能将D与n个人中任意一个做比较，若比较时，我们总能决定哪一个应聘者最佳，即D与n个人的比较关系是确定的。所以D在n个人排名的序列中有一个确定的位置，这个位置之前的所有人次序$\leq rank(D)$，这个位置之后的所有人次序$\geq rank(D)$，所以我们也知道了n+1人排名的全部次序。

--------------------------------------

## 5.1-2

Q：请描述RANDOM(a, b)过程的一种实现，它只调用RANDOM(0, 1)。作为a和b的函数，你的过程的期望运行时间是多少？

A：

```code
RANDOM(a, b):
    c = b - a
    d = 0
    from 1 to c do
        d = d + RANDOM(0, 1)
    return a + d
```

期望运行时间为$(b-a)$。

--------------------------------------

## 5.1-3

Q：假设你希望以1/2的概率输出0与1。你可以自由使用一个输出0或1的过程BIASED-RANDOM。它以某概率p输出1，概率1-p输出0，其中$0\lt p\lt 1$，但是p的值未知。请给出一个利用BIASED-RANDOM作为子程序的算法，返回一个无偏的结果，能以概率1/2返回0，以概率1/2返回1。作为p的函数，你的算法的期望运行时间是多少？

A：

执行两次BIASED-RANDOM输出有4种可能：00、01、10、11，出现概率为

$Pr\{00|11\}=p^2+(1-p)^2$

$Pr\{01\}=(1-p)p$

$Pr\{10\}=p(1-p)$

$Pr\{01\}$和$Pr\{10\}$是等概率的，排除$Pr\{00|11\}$，伪代码如下：

```code
UNBIASED-RANDOM():
    while true
        x = BIASED-RANDOM()
        y = BIASED-RANDOM()
        if x != y
            return x
```

由于每次递归可看作一次伯努利试验，所以递归成功结束的可能性为

$Pr\{success\}=Pr\{01\}+Pr\{10\}=2p(1-p)$

递归次数的期望为$1/(2p(1-p))$，因此期望运行时间为$\Theta(1/(2p(1-p)))$
